package Jegmezo;

import java.util.List;

//
//
//  Generated by StarUML(tm) Java Add-In
//
//  @ Project : Untitled
//  @ File Name : Haszn√°lVisitor.java
//  @ Date : 25/03/2020
//  @ Author : 
//
//




public class HasznalVisitor implements Visitor
{
	/**
	 *	Az √°s√≥ haszn√°l tev√©kenys√©g√©t val√≥s√≠tja meg. Cs√∂kkenti a a h√≥ mennyis√©g√©t 2-vel annak
	 *J√©gt√°bl√°nak,ami abba az ir√°nyba van, amibe a J√°t√©kos, aki az √°s√≥t haszn√°lja, n√©z.
	 */
	public void visit(Aso a, Jatekos j)
	{
		Irany i = j.getIranyAmibeNez();
		Jegtabla jt = j.JegtablaLekerdez();
		Jegtabla szJegtabla = jt.szomszedKerdez(i);
		
		boolean sikeres = szJegtabla.asas(2);
		if(sikeres)
		{
			System.out.println("Aso sikeresen hasznalva");
		}
		else
			System.out.println("Aso sikertelenul hasznalva");
		
	}
	
	
	/*
	 *LekÈrdezi az ir·nyt, amibe nÈz, majd lekÈri a szomszÈdos jÈgt·bl·t Ès   
	 * elkezd vÈgig menni a j·tÈkosok list·j·n, aki ott van Ès ·thelyezi ıket.
	 */
	public void visit(Kotel k, Jatekos j)
	{
		Irany i = j.getIranyAmibeNez();
		Jegtabla jt = j.JegtablaLekerdez();
		Jegtabla szJegtabla = jt.szomszedKerdez(i);
		
		Jatekos[] jatekos = szJegtabla.jatekosokLekerdez();
		for(int jsz = 0; jsz < jatekos.length; jsz++) {
			jatekos[jsz].athelyez(i);
		}
		
	}
	
	/**
	 * a j√°t√©kost √°thelyezi a kapott ir√°nyba.
	 */
	public void visit(Buvarruha b, Jatekos j)
	{
		j.athelyez(j.getIranyAmibeNez());
	}
	
	/* (non-Javadoc)
	 * @see Jegmezo.Visitor#visit(Jegmezo.Elelem, Jegmezo.Jatekos)
	 * a j√°t√©kos testh≈ëj√©t n√∂veli azzal, hogy megeszi, azaz felhaszn√°lja az √©lelmet.
	 */
	public void visit(Elelem e, Jatekos j)
	{
		j.testhoNovelese(1);
	}
	
	/**
	 *	A jelz≈ëpisztoly haszn√°l tev√©kenys√©g√©t val√≥s√≠tja meg. Megpr√≥b√°lja √∂sszeszerelni a jelz≈ëpisztoly √©s ki√≠rja, hogy sikeres volt-e avagy sem
	 */
	public void visit(Jelzopisztoly jp, Jatekos j)
	{
		int jelzopisztolyDB = j.getjelzopisztolydb();
		List<Jatekos> jatekosok = j.aktjegtabla.jatekosokLekerdez();
		
		for(int i = 0; i < jatekosok.size(); i++)
			jelzopisztolyDB += jatekosok.get(i).getjelzopisztolydb();
		
		if(jelzopisztolyDB == 3)
		{
			System.out.println("Sikeres √∂sszeszerel√©s ‚îå( Õù¬∞ Õú ñÕ°¬∞)=Œµ/ÃµÕáÃøÃø/‚ÄôÃø‚ÄôÃø ");
			jm.jatekvege(true);
		}
		else
			System.out.println("Sikertelen √∂sszeszerel√©s :/");
	}
}
