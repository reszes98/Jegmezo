package Jegmezo;

import java.util.ArrayList;
import java.util.List;

//
//
//  Generated by StarUML(tm) Java Add-In
//
//  @ Project : Untitled
//  @ File Name : Jégmezo.java
//  @ Date : 25/03/2020
//  @ Author : 
//
//





public class Jegmezo
{
	private int hoviharCnt;
	private List<Frissitheto> frissithetok;
	
	/**
	 * a konstruktor, ami létrehozza a Jégezõt
	 * @param hoviharCnt - kezdetben hány kör van a hóviharig
	 */
	public Jegmezo(int hoviharCnt)
	{
		this.hoviharCnt = hoviharCnt;
		frissithetok = new ArrayList<>();
		System.out.println("Letrehoztak egy jegmezot");
	}
	
	/**
	 * Felveszi a frissithetok közé a paraméterben megadott frissithetot
	 * @param f - a frissíthetõ, amit fel akarunk venni
	 */
	public void addFrissitheto(Frissitheto f)
	{
		
		frissithetok.add(f);
		System.out.println("Hozzáadtam a jégmezõhöz a frissithetot");
		
	}
	
	/**
	 * Felveszi a frissithetok közé a paraméterben megadott frissithetoket
	 * @param fl - a frissíthetõk listája, amiket fel akarunk venni
	 */
	public void addFrissithetok(List<Frissitheto> fl)
	{
		frissithetok.addAll(fl);
		System.out.println("Hozzáadtam a jégmezõhöz a frissithetok listajat");
	}
	
	
	/**
	 * @param nyert  ha igaz értéket kap nyertünk, ha hamisat vesztettünk, a játéknak vége.
	 */
	public void jatekvege(boolean nyert)
	{
		System.out.println("Vege a jateknak");
		if(!nyert) 
			System.out.println("Sajnos vesztettetek.");
		else 
			System.out.println("Nyertetetek!");
	}
	
	/**
	 * A frisiíthetõket frissíti, és ha a hóvihar számáló nullára vált meghívja a hóvihar függvényét 
	 * a frisiíthetõknek. És visszaállítja a hóvihar számálót
	 */
	public void leptet()
	{
		System.out.println("Jegmezo: Uj kor kezdodott");
		hoviharCnt--;
		System.out.println("Jegemzo: Csokkent a hoviharig hatralevo korok szama");
		
		for(int i=0;i<frissithetok.size();i++) {
			System.out.println("Meghivja a jegmezo a frissithetokre a frissit fuggvenyt");
			frissithetok.get(i).frissit();
			if(hoviharCnt==0)
			{
				System.out.println("Jegmezo: Nulla kor van a hoviharig, ezert hovihar");
				frissithetok.get(i).hovihar();
				hoviharCnt = 4;
			}
		}
		System.out.println("Jegmezo: az ujabb hoviharig " + hoviharCnt + "db kor van hatra");
	}
	
	/**
	 * @param j ha meghalt egy játékos vége a játéknak, meghívja ezt a függvényt false értékkel
	 */
	public void meghalt(Jatekos j)
	{
		System.out.println("Egy jatekos meghalt rajtam, ezert most vege a jateknak");
		this.jatekvege(false);
	}
	
	public void setup()
	{
		System.out.println("A jegemzo, most egy jatekot hoz letre");
	}
	
	/**
	 * Visszaadja, hogy mi ez az objektum
	 */
	public String toString()
	{
		return "Jegmezo";
	}
}
